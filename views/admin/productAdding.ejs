<!-- --include header-- -->
<%- include("../layout/layout")%>
    <%- include("../partials/admin-header")%>
        <!-- /header -->

        <%if(message.length){%>
            <div id="errorMessage" class="alert alert-success text-center" style="font-weight: bold;font-size: large;">
                <%= message %>
            </div>
            <%}%>


                <section>
                    <div class="container mt-4 mb-5">
                        <div class="row ">
                            <div class="col-md-6 mx-auto ">
                                <div class="bg-light-title text-center py-3 mb-1">
                                    <h2 class="mx-auto w-100">Add Products</h2>
                                </div>
                                <form action="/admin/productAdding" method="post" enctype="multipart/form-data"
                                    onsubmit="return validateForm()">

                                    <div class="mb-3">
                                        <label for="p_name" class="mb-1">Product Name*</label>
                                        <input type="text" name="p_name" class="form-control ">
                                        <div class="error text-danger"></div>
                                    </div>

                                    <div class="mb-3">
                                        <label for="originalprice" class="mb-1">Original Price*</label>
                                        <input type="text" name="originalprice" class="form-control ">
                                        <div class="error text-danger"></div>
                                    </div>

                                    <div class="mb-3">
                                        <label for="category" class="mb-1">Category*</label>
                                        <select name="category" id="category" class="form-select mb-2">
                                            <option value="">Select Category</option>
                                            <% category.forEach((data)=> { %>
                                                <option value="<%= data.categoryName %>">
                                                    <%= data.categoryName %>
                                                </option>
                                                <% }); %>
                                        </select>
                                        <div class="error text-danger"></div>
                                    </div>

                                    <div class="mb-3">
                                        <label for="description" class="mb-1">Description</label>
                                        <input type="text" name="description" class="form-control mb-2">
                                        <div class="error text-danger"></div>
                                    </div>

                                    <div class="mb-3">
                                        <label for="productOffer" class="mb-1">Product Offer</label>
                                        <input type="text" name="productOffer" class="form-control mb-2">
                                        <div class="error text-danger"></div>
                                    </div>

                                    <div class="mb-3">
                                        <label for="productStock" class="mb-1">Stock</label>
                                        <input type="text" name="productStock" class="form-control mb-2">
                                        <div class="error text-danger"></div>
                                    </div>

                                    <div class="mb-3">
                                        <label for="image" class="mb-1">Image</label>
                                        <input class="form-control " name="image" type="file" id="formFileMultiple"
                                            multiple />
                                        <div class="error text-danger"></div>
                                    </div>

                                    <div class="d-flex justify-content-center">
                                        <button type="submit" class="btn btn-success w-50 mt-1">Submit</button>
                                    </div>

                                </form>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- --include footer-- -->
                <%- include("../partials/adminFooter")%>
                    <!-- /header -->
                    <script>
                        // Function to hide the error message after a certain duration
                        function hideErrorMessage() {
                            const errorMessage = document.getElementById('errorMessage');
                            if (errorMessage) {
                                errorMessage.style.display = 'none';
                            }
                        }

                        // Hide the error message after 3000 milliseconds (3 seconds)
                        setTimeout(hideErrorMessage, 3000);
                    </script>